<div class="app-root">
  <div class="chat-container">
    <header class="chat-header">
      <h1 class="title">ü§ñ Content Generator</h1>
      <p class="subtitle">Generate scripts or content for your social media platforms</p>
    </header>

    <div class="chat-messages">
      @if (conversations().length === 0) {
        <div class="empty-state">
          <p>Start a conversation by asking a question below</p>
        </div>
      } @else {
        @for (item of conversations(); track item.prompt) {
          <div class="message-group">
            <div class="message user-message">
              <div class="message-content">{{ item.prompt }}</div>
            </div>
            <div class="message assistant-message">
              <div class="message-content" [innerHTML]="getHtmlContent(item.response)"></div>
            </div>
          </div>
        }
      }

      @if (isLoading()) {
        <div class="message-group">
          <div class="message assistant-message">
            <div class="message-content loading">Generating...</div>
          </div>
        </div>
      }
    </div>

    <section class="input-area">
      <div class="input-wrapper">
        <input
          class="input"
          [(ngModel)]="userPrompt"
          placeholder="Enter any topic or concept to generate content about..."
          aria-label="user prompt"
          (keyup.enter)="generate()"
          [disabled]="isLoading()"
        />
        <button class="btn primary" (click)="generate()" [disabled]="isLoading()" aria-label="send message">
          @if (isLoading()) {
            <span>‚è≥</span>
          } @else {
            <span>‚û§</span>
          }
        </button>
      </div>
    </section>
  </div>
</div>